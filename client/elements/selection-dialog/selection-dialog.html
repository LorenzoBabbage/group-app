<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="selection-dialog">
  <link rel="import" type="css" href="../../bower_components/paper-dialog-behavior/paper-dialog-common.css">
  <style>
    :host{
      position: relative;
      margin: 4vw;
      background: #e5e5e5 !important;
      border-radius: 16px;
      border: solid 1px #000;
    }
    #btn-close{
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      width: 40px;
      height: 40px;
      margin: 8px;
      padding: 0;
    }
    #btn-close{
      --iron-icon-width: 40px;
      --iron-icon-height: 40px;
    }
    #header{
      @apply(--layout-horizontal);
      @apply(--layout-center);
      position: absolute;
      top: 0;
      left: 0;
      right: 56px;
      padding: 0;
      margin: 10px 8px 6px 8px;
      height: 40px;
    }
    #header ::content h1{
      font-size: 26px;
      margin-left: 8px;
    }
    #content{
      @apply(--layout-fit);
      @apply(--layout-horizontal);
      @apply(--layout-center-justified);
      @apply(--layout-center);
      @apply(--layout-wrap);
      top: 56px !important;
      border: solid 1px #000;
      border-radius: 8px;
      margin: 0 8px 8px 8px;
      background: #c0c0c0;
    }
  </style>

  <template>
    <paper-icon-button id="btn-close" icon="cancel" hidden$="[[noCloseBtn]]" on-tap="_btnCancelAction"></paper-icon-button>
    <div id="header" class="horizontal layout center">
      <content select="h1"></content>
    </div>
    <div id="content">
      <content></content>
    </div>
  </template>
</dom-module>

<script>
Polymer({
  is: 'selection-dialog',
  
  properties: {
    noCloseBtn:{
      type: Boolean,
      value: false
    }
  },
  
  behaviors: [
    Polymer.PaperDialogBehavior
  ],
  /*
  hostAttributes: {
    'modal': ''       // can't be closed without action
  },
  */
  ready: function(){
    this.setAttribute('modal', '');
  },
  
  /**
   * Called on-tap of the cancel button.
   */
  _btnCancelAction: function(){
    this.cancel();
  }
});
</script>
